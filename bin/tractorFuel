#!/usr/bin/env bash

## Description: Given a path, calculates how many -k32 plots in parallel can use that path as -t space.

TARGET=$1
TMPSIZE=350000000

AVAIL=$(df --output=size $TARGET | tail -n 1)

PLOTCOUNT=$(($AVAIL / $TMPSIZE))

if [[ $PLOTCOUNT -gt 0 ]]; then
        echo "If volume is empty, you can execute $PLOTCOUNT unstaggered plots on $TARGET."
else
        echo "Volume is too small to use as tmp."
fi
